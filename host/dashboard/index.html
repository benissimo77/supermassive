<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Builder</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="quizbuilder.css">
    <script type="text/javascript" src="dashboard.js" defer></script>
    <script type="text/javascript" src="/dashboard/quizbuilder.min.js"></script>
	
	<!-- Add these to your head section -->
	<script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>  
    <link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/quill@2/dist/quill.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">

</head>
<body class="dark-theme">
    
    <nav id="sidebar">
        <ul>
          <li>
            <span class="logo">VideoSwipe</span>
            <button onclick=toggleSidebar() id="toggle-btn">
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="m313-480 155 156q11 11 11.5 27.5T468-268q-11 11-28 11t-28-11L228-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T468-692q11 11 11 28t-11 28L313-480Zm264 0 155 156q11 11 11.5 27.5T732-268q-11 11-28 11t-28-11L492-452q-6-6-8.5-13t-2.5-15q0-8 2.5-15t8.5-13l184-184q11-11 27.5-11.5T732-692q11 11 11 28t-11 28L577-480Z"/></svg>
            </button>
          </li>
          <li class="active">
            <a href="/dashboard/home">
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M240-200h120v-200q0-17 11.5-28.5T400-440h160q17 0 28.5 11.5T600-400v200h120v-360L480-740 240-560v360Zm-80 0v-360q0-19 8.5-36t23.5-28l240-180q21-16 48-16t48 16l240 180q15 11 23.5 28t8.5 36v360q0 33-23.5 56.5T720-120H560q-17 0-28.5-11.5T520-160v-200h-80v200q0 17-11.5 28.5T400-120H240q-33 0-56.5-23.5T160-200Zm320-270Z"/></svg>
              <span>Home</span>
            </a>
          </li>
          <li>
            <a href="/dashboard/sample">
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M520-640v-160q0-17 11.5-28.5T560-840h240q17 0 28.5 11.5T840-800v160q0 17-11.5 28.5T800-600H560q-17 0-28.5-11.5T520-640ZM120-480v-320q0-17 11.5-28.5T160-840h240q17 0 28.5 11.5T440-800v320q0 17-11.5 28.5T400-440H160q-17 0-28.5-11.5T120-480Zm400 320v-320q0-17 11.5-28.5T560-520h240q17 0 28.5 11.5T840-480v320q0 17-11.5 28.5T800-120H560q-17 0-28.5-11.5T520-160Zm-400 0v-160q0-17 11.5-28.5T160-360h240q17 0 28.5 11.5T440-320v160q0 17-11.5 28.5T400-120H160q-17 0-28.5-11.5T120-160Zm80-360h160v-240H200v240Zm400 320h160v-240H600v240Zm0-480h160v-80H600v80ZM200-200h160v-80H200v80Zm160-320Zm240-160Zm0 240ZM360-280Z"/></svg>
              <span>Sample</span>
            </a>
          </li>
          <li>
            <button onclick=toggleSubMenu(this) class="dropdown-btn">
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M160-160q-33 0-56.5-23.5T80-240v-480q0-33 23.5-56.5T160-800h207q16 0 30.5 6t25.5 17l57 57h320q33 0 56.5 23.5T880-640v400q0 33-23.5 56.5T800-160H160Zm0-80h640v-400H447l-80-80H160v480Zm0 0v-480 480Zm400-160v40q0 17 11.5 28.5T600-320q17 0 28.5-11.5T640-360v-40h40q17 0 28.5-11.5T720-440q0-17-11.5-28.5T680-480h-40v-40q0-17-11.5-28.5T600-560q-17 0-28.5 11.5T560-520v40h-40q-17 0-28.5 11.5T480-440q0 17 11.5 28.5T520-400h40Z"/></svg>
              <span>Create</span>
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z"/></svg>
            </button>
            <ul class="sub-menu">
              <div>
                <li><a href="#">Folder</a></li>
                <li><a href="#">Document</a></li>
                <li><a href="#">Project</a></li>
              </div>
            </ul>
          </li>
          <li>
            <button onclick=toggleSubMenu(this) class="dropdown-btn">
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="m221-313 142-142q12-12 28-11.5t28 12.5q11 12 11 28t-11 28L250-228q-12 12-28 12t-28-12l-86-86q-11-11-11-28t11-28q11-11 28-11t28 11l57 57Zm0-320 142-142q12-12 28-11.5t28 12.5q11 12 11 28t-11 28L250-548q-12 12-28 12t-28-12l-86-86q-11-11-11-28t11-28q11-11 28-11t28 11l57 57Zm339 353q-17 0-28.5-11.5T520-320q0-17 11.5-28.5T560-360h280q17 0 28.5 11.5T880-320q0 17-11.5 28.5T840-280H560Zm0-320q-17 0-28.5-11.5T520-640q0-17 11.5-28.5T560-680h280q17 0 28.5 11.5T880-640q0 17-11.5 28.5T840-600H560Z"/></svg>
              <span>Todo-Lists</span>
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M480-361q-8 0-15-2.5t-13-8.5L268-556q-11-11-11-28t11-28q11-11 28-11t28 11l156 156 156-156q11-11 28-11t28 11q11 11 11 28t-11 28L508-372q-6 6-13 8.5t-15 2.5Z"/></svg>
            </button>
            <ul class="sub-menu">
              <div>
                <li><a href="#">Work</a></li>
                <li><a href="#">Private</a></li>
                <li><a href="#">Coding</a></li>
                <li><a href="#">Gardening</a></li>
                <li><a href="#">School</a></li>
              </div>
            </ul>
          </li>
          <li>
            <a href="/dashboard/calendar">
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M200-80q-33 0-56.5-23.5T120-160v-560q0-33 23.5-56.5T200-800h40v-40q0-17 11.5-28.5T280-880q17 0 28.5 11.5T320-840v40h320v-40q0-17 11.5-28.5T680-880q17 0 28.5 11.5T720-840v40h40q33 0 56.5 23.5T840-720v560q0 33-23.5 56.5T760-80H200Zm0-80h560v-400H200v400Zm0-480h560v-80H200v80Zm0 0v-80 80Zm280 240q-17 0-28.5-11.5T440-440q0-17 11.5-28.5T480-480q17 0 28.5 11.5T520-440q0 17-11.5 28.5T480-400Zm-160 0q-17 0-28.5-11.5T280-440q0-17 11.5-28.5T320-480q17 0 28.5 11.5T360-440q0 17-11.5 28.5T320-400Zm320 0q-17 0-28.5-11.5T600-440q0-17 11.5-28.5T640-480q17 0 28.5 11.5T680-440q0 17-11.5 28.5T640-400ZM480-240q-17 0-28.5-11.5T440-280q0-17 11.5-28.5T480-320q17 0 28.5 11.5T520-280q0 17-11.5 28.5T480-240Zm-160 0q-17 0-28.5-11.5T280-280q0-17 11.5-28.5T320-320q17 0 28.5 11.5T360-280q0 17-11.5 28.5T320-240Zm320 0q-17 0-28.5-11.5T600-280q0-17 11.5-28.5T640-320q17 0 28.5 11.5T680-280q0 17-11.5 28.5T640-240Z"/></svg>
              <span>Calendar</span>
            </a>
          </li>
          <li>
            <a href="/dashboard/profile">
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M480-480q-66 0-113-47t-47-113q0-66 47-113t113-47q66 0 113 47t47 113q0 66-47 113t-113 47ZM160-240v-32q0-34 17.5-62.5T224-378q62-31 126-46.5T480-440q66 0 130 15.5T736-378q29 15 46.5 43.5T800-272v32q0 33-23.5 56.5T720-160H240q-33 0-56.5-23.5T160-240Zm80 0h480v-32q0-11-5.5-20T700-306q-54-27-109-40.5T480-360q-56 0-111 13.5T260-306q-9 5-14.5 14t-5.5 20v32Zm240-320q33 0 56.5-23.5T560-640q0-33-23.5-56.5T480-720q-33 0-56.5 23.5T400-640q0 33 23.5 56.5T480-560Zm0-80Zm0 400Z"/></svg>
              <span>Profile</span>
            </a>
          </li>
          <li>
            <a href="/dashboard/quiz">
              <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e8eaed"><path d="M560-360q17 0 29.5-12.5T602-402q0-17-12.5-29.5T560-444q-17 0-29.5 12.5T518-402q0 17 12.5 29.5T560-360Zm-30-128h60q0-29 6-42.5t28-35.5q30-30 40-48.5t10-43.5q0-45-31.5-73.5T560-760q-41 0-71.5 23T446-676l54 22q9-25 24.5-37.5T560-704q24 0 39 13.5t15 36.5q0 14-8 26.5T578-596q-33 29-40.5 45.5T530-488ZM320-240q-33 0-56.5-23.5T240-320v-480q0-33 23.5-56.5T320-880h480q33 0 56.5 23.5T880-800v480q0 33-23.5 56.5T800-240H320Zm0-80h480v-480H320v480ZM160-80q-33 0-56.5-23.5T80-160v-560h80v560h560v80H160Zm160-720v480-480Z"/></svg>
              <span>Quiz</span>
            </a>
          </li>
        </ul>
      </nav>
      
<main>
    <div id="button-panel">
        <button id="create-quiz" class="quiz-btn">New Quiz</button>
        <button id="import-quiz" class="quiz-btn">Host Quiz</button>
        <button id="export-quiz" class="quiz-btn">Export Quiz</button>
    </div>

    <!-- This is the content for the quiz list -->
    <div id="quiz-list">
        <ul id="quiz-items"></ul>
    </div>

    <!-- This is the content for the quiz editor -->
    <div id="quiz-edit">
		<details class="quiz" open>
			<summary class="header-quiz">
				<div class="left-group">
					<span class="header-quiz-label">Quiz:</span>
					<span class="header-title"></span>
				</div>
                <button id="host-quiz">Host Quiz</button>
			</summary>
            <input type="hidden" id="quiz-id" />
            <input type="hidden" id="quiz-owner" />
            <input type="text" id="quiz-title" placeholder="Enter quiz title">
            <div id="quiz-description" placeholder="Enter quiz description"></div>
	        <ul id="rounds-container"></ul>
	        <button id="add-round" class="round-btn">Add Round</button>
	        <button id="save-quiz">Save Quiz</button>
          <!-- <label for="import-quiz">Select Quiz to import:</label>
	        <input type="file" id="import-quiz" accept="json"> -->
		</details>

    <h3>Quiz JSON</h3>
    <textarea id="quiz-json"></textarea>

    </div>


</main>

<template id="round-template">
    <li>
        <details class="round" open>
            <summary class="header-round">
                <div class="left-group">
                    <span aria-label="Drag to reorder">☰</span>
                    <span class="header-round-label">Round <span class="header-round-number"></span>:</span>
                    <span class="header-title"></span>
                </div>
                <button class="delete-btn">Delete</button>
            </summary>
            <div class="form-two-column">
                <div class="form-left-column">
                    <input type="hidden" class="round-id" />
                    <input type="hidden" class="round-owner" />
                    <input type="text" class="round-title" placeholder="Enter round title" maxlength="50"/>
                    <textarea class="round-description" placeholder="Enter round description"></textarea>
                </div>
                <div class="form-right-column">
                    <label>Timed questions?</label>
                    <select data-field="round-timer">
                        <option value="0" selected>No timer, I will decide</option>
                        <option value="10">10 seconds (fast)</option>
                        <option value="20">20 seconds (average)</option>
                        <option value="30">30 seconds (relaxed)</option>
                        <option value="60">1 minute (very relaxed)</option>
                    </select>
                    <label>Show answer:</label>
                    <select data-field="show-answer">
                        <option value="round" selected>End of round</option>
                        <option value="question">Every question</option>
                        <option value="no">Combine with next round</option>
                    </select>
                    <label>Update team scores:</label>
                    <select data-field="update-scores">
                        <option value="round" selected>End of round</option>
                        <option value="answer">Every question</option>
                    </select>
                    
                </div>
            </div>
                </div>
            </div>
            <ul class="questions-container"></ul>
            <button class="question-btn">Add Question</button>
        </details>
    </li>
</template>

<template id="question-template">
    <li>
        <details class="question" open>
        <summary class="header-question">
            <div class="left-group">
                <span aria-label="Drag to reorder">☰</span>
                <span class="header-question-label">Question <span class="header-question-number"></span>:</span>
                <span class="header-title"></span>
            </div>
            <button class="delete-btn">Delete</button>
        </summary>
        <div class="form-two-column">
            <div class="form-left-column">
                <label>Text:</label><input type="text" data-field="question-text" class="question-field" placeholder="Enter question">
                <label>Picture:</label>
                <div data-field="image-selection">
                    <input type="text" data-field="question-image-url" class="question-text" placeholder="Enter URL of image">
                    <p>OR</p>
                    <div data-field="dropzone" class="dropzone">
                        <p>Drop image or click to select</p>
                        <input type="file" data-field="dropzone-image" style="display: none;" accept="image/*" />
                    </div>
                </div>
                {{!-- <image-selector data-field="question-image" class="image-selector-preview" mode="disabled" style="width:100%;height:120px;display:none;"></image-selector> --}}
                <img data-field="question-image" class="image-selector-preview" style="max-width:100%;height:120px;display:none;" />
                <label>Audio:</label><input type="text" data-field="question-audio" class="question-text" placeholder="Enter URL of music track">
                <iframe width="200" height="80" title="YouTube video player" frameborder="0" referrerpolicy="strict-origin-when-cross-origin"></iframe>
            </div>
            <div class="form-right-column">
                <label>Answer Type:</label>
                <select class="question-type">
                    <option value="text">Text</option>
                    <option value="multiple-choice">Multiple Choice</option>
                    <option value="true-false">True/False</option>
                    <option value="matching">Matching Pairs</option>
                    <option value="ordering">Ordering</option>
                    <option value="hotspot">Hotspot</option>
                    <option value="point-it-out">Point It Out</option>
                    <option value="draw">Draw the Answer</option>
                </select>
                <div class="question-specific-content"></div>
            </div>
        </div>
        </details>
    </li>
</template>
<template id="quiz-item-template">
    <div class="quiz-item">
        <button class="edit-quiz-item">Edit</button>
        <span class="quiz-item-title"></span>
    </div>
</template>

</body>
</html>

