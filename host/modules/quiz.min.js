var Quiz=function(){"use strict";class e extends Phaser.Scene{constructor(){super(...arguments),Object.defineProperty(this,"resizeHandler",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shutdownHandler",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"socket",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}init(){console.log(`${this.scene.key}:: BaseScene.init: hello`),this.resizeHandler=e=>{this.handleResize(e)},this.shutdownHandler=()=>{this.shutdown()},this.scale.on("resize",this.resizeHandler),this.events.on("shutdown",this.shutdownHandler),this.handleResize(this.scale.gameSize);const e=this.plugins.get("SocketManagerPlugin");if(!e)throw new Error("SocketManagerPlugin not found");const s=e.getSocket();if(!s)throw new Error("Socket not initialized");this.socket=s,this.socket.on("connection",(function(e){console.log("Connected to server:",e)}))}handleResize(e){console.log(`${this.scene.key}:: BaseScene.handleResize:`,e.width,e.height);const s=e.width/1920,t=e.height/s,i=this.cameras.main;i.setOrigin(0,0),i.setZoom(s),this.updateHeight(t)}updateHeight(s){console.log("BaseScene:: updateHeight:",s),e.currentHeight=s}getY(e){return e*this.getScaleFactor()}getScaleFactor(){return e.currentHeight/1080}shutdown(){console.log("BaseScene:: shutdown"),this.scale.off("resize",this.resizeHandler),this.events.off("shutdown",this.shutdownHandler),this.socket.removeAllListeners(),this.sceneShutdown()}}Object.defineProperty(e,"currentHeight",{enumerable:!0,configurable:!0,writable:!0,value:1080});return console.log("Finished Quiz scene..."),class extends e{constructor(){super({key:"Quiz"}),Object.defineProperty(this,"ship",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ship2",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}init(){console.log("Quiz.js init..."),super.init(),this.socket.hasListeners("server:playermessage")?console.log("Listener already defined..."):this.socket.on("server:playermessage",(function(e){console.log("Player message:",e)}))}preload(){console.log("Quiz.js preload..."),this.load.image("ship","assets/spaceShips_001.png"),this.load.image("otherPlayer","assets/enemyBlack5.png")}create(){console.log("Quiz:: create:"),this.ship2=this.add.image(800,40,"ship"),this.ship2.setDisplaySize(186,80),this.ship2.setTint(16777215),this.ship2.setInteractive().on("pointerdown",(e=>{console.log("Click - send message:",e),this.socket.emit("client:playermessage",{x:100,y:540})})),this.ship=this.add.image(100,540,"ship"),this.ship.setDisplaySize(106,80),this.ship.setTint(16776960),this.ship.setInteractive().on("pointerdown",(e=>{console.log("Click - return to lobby:",e),this.scene.start("Lobby")}));for(var e=0;e<5;e++)this.add.image(0,this.getY(1080*e/4),"ship").setDisplaySize(200,96)}sceneShutdown(){console.log("Quiz:: sceneShutdown...")}}}();
//# sourceMappingURL=quiz.min.js.map
