<!doctype html>
<html>
    <head>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Titan+One&display=swap" rel="stylesheet">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.4/gsap.min.js"></script>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
        <link rel="stylesheet" href="/css/gsap.css">
    </head>
    <body>
        <p>Welcome Host!!</p>
        <button onclick="buttonStart()" type="button">START</button>
        <button onclick="buttonNight()" type="button">NIGHT</button>
        <button onclick="buttonDay()" type="button">DAY</button>

        <!-- <button onclick="buttonListPlayers()" type="button">LIST PLAYERS</button>
        <button onclick="buttonListGames()" type="button">LIST GAMES</button> -->
        <button onclick="buttonTest()" type="button">TEST</button>
        <div id="largepanel">
            <div id="largepanelcontent">
                <div id="startgame">
                    <div id="startgame-title">INSTRUCTIONS</div>
                    <div id="startgame-options">
                        <ul>
                            <li>
                                Don't let anyone see your screen!
                            </li>
                            <li>
                                Press 'ROLE' button to see your role
                            </li>
                            <li>
                                Release 'ROLE'button to hide your role
                            </li>
                        </ul>
                    </div>
                    <div id="startgame-start">
                        <button onclick="buttonReady()" type="button">READY!</button>
                    </div>
                </div>
                <div id="nightaction">
                    <div id="nightaction-title">NIGHT</div>
                    <div id="nightaction-options">
                        <ul>
                            <li>
                                WOLVES: Choose a victim
                            </li>
                            <li>
                                HEALER: Choose someone to heal
                            </li>
                            <li>
                                WITCH: Choose someone to save and/or kill
                            </li>
                            <li>
                                SEER: Choose someone to see
                            </li>
                        </ul>
                    </div>
                </div>
                <div id="dayaction">
                    <div id="dayaction-title">DAY</div>
                    <div id="dayaction-options">
                        <ul>
                            <li>
                                VILLAGERS: Try to find a wolf!
                            </li>
                        </ul>
                    </div>
                    <div id="dayaction-start">
                        <button onclick="buttonDayReady()" type="button">READY!</button>
                    </div>

                </div>
            </div>
        </div>
        <div id="instructions">
            <div id="instructions-title">VIDEOSWIPE.NET</div>
            <div id="instructions-content">
                <h1>Room: WOLF</h1>
            </div>
            <div id="instructions-close">
                <button onclick="buttonHostComplete()" type="button">READY!</button>
            </div>
        </div>

        <div id="playerlist"></div>
        <div id="killedbywolves"></div>
        <div id="killedbyvillagers"></div>

        <div id="timer"> 
            <div class="timer_progress"></div>
        </div>

        <script>
            // Host-generated events
            // Defined here since they are really just part of the hosting page - probably replaced in future
            function buttonStart() {
                console.log('Button: Start');
                socket.emit('host:requeststart');
                // Display the start game options directly here rather than waiting for a separate socket event
                document.getElementById('largepanel').style.display = 'flex';
                document.getElementById('startgame').style.display = 'block';
            }
            function buttonReady() {
                console.log('Button: Ready');
                // socket.emit('host:requestready');
                // Hide the start game options directly here rather than waiting for a separate socket event
                document.getElementById('startgame').style.display = 'none';
                document.getElementById('largepanel').style.display = 'none';

            }
            function buttonNight() {
                console.log('Button: Night');
                socket.emit('host:requestnight');
                audioManager.playTrack(musicTracks.NIGHT);
            }
            function buttonDay() {
                console.log('Button: Day');
                socket.emit('host:requestday');
                audioManager.playTrack(musicTracks.DAY);
            }

            function buttonListGames() {
                console.log('Button: ListGames');
                socket.emit('host:listgames');
            }
            function buttonListPlayers() {
                console.log('Button: listPlayers:');
                socket.emit('listplayers');
            }
            function buttonTest() {
                console.log('Button: test');
                // socket.emit('buttontest');
                audioManager.stopAllAudio();
            }
            function buttonHostComplete() {
                console.log('Button: HostComplete');
                // clear up all possible audio/visuals
                gsap.set("#instructions", {display: 'none'});
                socket.emit('host:response');
            }

        </script>
        <script src="/socket.io/socket.io.js"></script>
        <script src="/domhost.js"></script>
        <script src="/socket-host.js"></script>
        <script src="/audio.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    </body>
</html>



