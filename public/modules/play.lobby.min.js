console.log("play.lobby.js:: hello");class t{constructor(t){this.socket=t,this.start(),console.log("Lobby initialized")}start(){this.loadFonts(),this.buildDOM(),this.attachSocketEvents(this.socket),this.attachButtonEvents(),this.showPanel("panel-start")}end(){console.log("Ending the lobby..."),this.removeButtonEvents(),this.removeSocketEvents(this.socket),this.unloadDOM(),this.unloadFonts()}buildDOM(){const t=document.createElement("div");t.id="lobby",document.body.appendChild(t),t.innerHTML='\n\t\t\t<div class="panel" id="panel-start">\n\t\t\t\t\x3c!-- For now put these here while testing --\x3e\n\t\t\t\t<div class="panel-content">\n\t\t\t\t\t<button id="connect">Connect</button>\n\t\t\t\t\t<button id="disconnect">Disconnect</button>\n\t\t\t\t\t<h1>Welcome!</h1>\n\t\t\t\t\t<p>Waiting to start...</p>        \n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<div class="panel" id="panel-1">\n\t\t\t\t<div class="button-container" id="button-container-1"></div>\n\t\t\t</div>\n\t\t\t<div class="panel" id="panel-2">\n\t\t\t\t<div class="button-container" id="button-container-2"></div>\n\t\t\t</div>\n\t\t\t<div class="panel" id="panel-3">\n\t\t\t\t<div class="button-container" id="button-container-3"></div>\n\t\t\t</div>\n\t\t',this.addButton("button-container-1","Final Button"),this.adjustFontSizeToFit("button-container-1")}unloadDOM(){document.getElementById("lobby").remove()}addButton(t,e){const n=document.getElementById(t),o=document.createElement("button"),s=e.length;s>36?o.style.setProperty("--button-font-size","16px"):s>16?o.style.setProperty("--button-font-size","20px"):o.style.setProperty("--button-font-size","24px"),o.textContent=e,n.appendChild(o)}adjustFontSizeToFit(t){const e=document.getElementById(t),n=e.querySelectorAll("button"),o=window.innerHeight-80;n.length>5?e.style.setProperty("gap","4vh"):n.length>4?e.style.setProperty("gap","6vh"):e.style.setProperty("gap","8vh");let s=30;const c=()=>{let t=e.getBoundingClientRect().height;console.log("Adjusting font size:",t,o,s),t>o&&s>0&&(s--,n.forEach((t=>{const e=parseInt(window.getComputedStyle(t).fontSize);t.style.setProperty("--button-font-size",e-1+"px")})),requestAnimationFrame(c))};requestAnimationFrame(c)}showPanel(t){document.querySelectorAll(".panel").forEach((t=>t.classList.remove("active"))),document.getElementById(t).classList.add("active")}socketConnect(t){this.socket.connect()}socketDisconnect(){this.socket.disconnect()}loadFonts(){const t=document.createElement("link");t.rel="stylesheet",t.href="https://fonts.googleapis.com/css2?family=Lilita+One&display=swap",t.id="dynamic-font-link",document.head.appendChild(t)}unloadFonts(){const t=document.getElementById("dynamic-font-link");t&&document.head.removeChild(t)}attachSocketEvents(t){console.log("Attaching socket events to lobby"),t.on("connect",this.onConnect),t.on("disconnect",this.onDisconnect),t.on("player",this.onPlayer)}removeSocketEvents(t){console.log("Removing socket events from lobby"),t.off("connect",this.onConnect),t.off("disconnect",this.onDisconnect),t.off("player",this.onPlayer)}attachButtonEvents(){document.getElementById("connect").addEventListener("click",this.socketConnect.bind(this)),document.getElementById("disconnect").addEventListener("click",this.socketDisconnect.bind(this))}removeButtonEvents(){document.getElementById("connect").removeEventListener("click",this.socketConnect),document.getElementById("disconnect").removeEventListener("click",this.socketDisconnect)}onConnect(){console.log("Connected to server")}onDisconnect(){console.log("Disconnected from server")}onPlayer(t){console.log("Player:",t)}}export{t as Game};
//# sourceMappingURL=play.lobby.min.js.map
